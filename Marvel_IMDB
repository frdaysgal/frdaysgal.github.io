<!DOCTYPE html>
<html>
<head>
	<title>IMDB Analyis</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Saira+Semi+Condensed:wght@200;500;700;800&display=swap" rel="stylesheet">
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src="https://unpkg.com/intersection-observer"></script>
	<script src="https://unpkg.com/scrollama"></script>
</head>
<style type="text/css">
	body, html {
		top:0;
		left:0;
		margin:0;
		font-family: 'Saira Semi Condensed', sans-serif;
		background-color: black;
		font-size: 30px;
		color: goldenrod;
	}
	nav	{
		background-color:black;
		position:fixed;
		width:100%;
		display:flex;
		justify-content: center;
		align-items:center;
		border-bottom:0.05em solid black;
		z-index:100;
	}
	.title {
		height:auto 100%;
		color:black;
		background-color:darkgoldenrod;
/*		background-image:url('https://i.pinimg.com/originals/7f/43/1c/7f431c9e6991b1a83d79e359dc09c99d.gif');*/
		background-repeat: no-repeat;
		background-attachment: fixed;
		background-position: left top;
		background-size: auto 100%;
	}
	.title h1 {
		font-size:4em;
	}
	.title h2 {
		font-size:36px;
		font-weight:400;
	}
	.header {
		text-align:center;
		display:flex;
		justify-content:center;
		align-items:center;
		border:0.5em solid black;
		padding:5% 0%;
		animation: fadeIn 0.5s ease-in-out;
	}
	.header h1{
		font-family: 'Saira Semi Condensed', sans-serif;
		font-weight:600;
		margin:0;
	}
	.header h2 {
		margin:0;
	}
	.sticky {
		float:right;
		top:25%;
		position:sticky;
		width:50%;
		display:inline-flex;
					background-color:darkgoldenrod;
	}
	.leftside{
		background-color:black;
		color:white;
		width: 30%;
    	padding: 5% 10% 5% 5%;
	}
	.progressive{
		width:100%;
		display:block;
		margin-bottom:100%!important;
	}
	.end {
		margin-bottom:5%!important;
	}
	#counter {
		width:100%;
		font-size:10em;
		text-align:center;
		margin:0;
		padding:0%;
		line-height:1em;
		font-weight: 800;
    	letter-spacing: -0.05em;
	}
	#counter h2{
		text-align:center;
	}
	.text {
		margin:5%;
		line-height:2em;
		opacity:0;
		margin-top:10%;
		transition:0.5s ease-in-out;
	}
	.text h1 {
		font-size:4em;
		letter-spacing:-0.05em;
		line-height:1em;
		font-weight:900;
		width:60%;
	}
	.text h2 {
		font-weight:400;
		font-size:1em;
		font-style:italic;
	}
	.sticky h1 {
		width:auto 100%;
		font-size:3em;
	}
	.sticky h2 {
		font-size:0.8em;
		text-transform:uppercase;
		letter-spacing:0.1em;
	}
	.center_aligner {
		overflow:none;
		width:auto 100%;
		display:flex;
		align-items:auto center;
		justify-content:auto center;
		margin:2% 0%;
	}
	iframe {
		border:0.5em solid black;
		width: auto 100%;
		height:500px;
	}
	.tableauPlaceholder{
		width:50%;
		z-index:0;
	}
	img{
		text-align:center;
		margin:0%;
		display:inline-block;
		border:0.5em solid black;
	}
	.caption {
		font-size:0.8em;
		color:#darkgoldenrod;
	}
	.small {
		width: auto 30%;
	}
	.large {
		width:auto 80%;
		display:block;
	}
	@keyframes fadeIn {
		0%{
			opacity:0;
		}
		100%{
			opacity:1;
		}
	}
	@media screen and (max-width:767px){
		.sticky {
	/*		bottom:0;*/
			width:50%;
			float:none;
			margin:auto;
			display:flex;
			line-height:2em;
		}
		.sticky h1 {
			font-size:2em;
			line-height:2em;
		}
		.sticky h2 {
			font-size:0.5em;
		}
		#counter {
			font-size:5em;
		}
		.leftside {
			width: auto 85%;
    		padding: 5% 10% 5% 5%;
		}
		.small {
			width:80%;
		}
		.title {
			height:80vh;
		}
		.text h1 {
			font-size:2.5em;
			width:80%;
		}
		.text {
			margin:10% 5%;
		}
		iframe {
			height:300px;
		}

	}
</style>
<body>

<!-- nav -->
<nav>
	<h3>IMDB Battle of the Sexes</h3>
</nav>

<!-- text -->
<div class='header title step'>
	<div class='aligner'>
		<h1><p>IMDB Battle of the Sexes</h1>
		<h3>Are all movies created equal?</h3>	
	</div>
</div>


<div class='text'>
	<h2>By Rose Brown</h2>	
	The Internet Movie Database (IMDB.com) is a source of vast information about just about any movie you can think of.  You can find out cast, director, budget, profits, and more.  Users are encouraged to provide their own feedback about the movies they have seen and that information is collected from people around the globe.  
</div>

<div class='text'>
	<h1>Millions of people have voted over time about the movies they love and hate</h1>
	  
</div>

<div class='text'>
	<h3>Overall, males dominate the number of votes provided over time.</h3>
	  
</div>

<!-- image 1 -->
<div class='center_aligner'>

	<!-- change line 120 if you want to change the size of the image -->
		<div class='caption'></div><img class='medium' src="images/votetotals.jpg"> 	
</div>
<!-- caption for image 1 -->
<div class='center_aligner'>
	
</div>
<div class='text'>
	<h3>However, females consistently rate movies higher</h3>
	  
</div>

<!-- image 1 -->
<div class='center_aligner'>
	<!-- change line 120 if you want to change the size of the image -->
	</div>	<img class='medium' src="images/ratingaverages.jpg"> 	
</div>
<!-- caption for image 1 -->
<div class='center_aligner'>
	
</div>
<p>On average, males have rated all movies 4.8% lower than females, over all of the movies in the database.  Females continue to rate higher than males over all genres and time spans overall.</p>
<!-- image 1 -->
<div class='center_aligner'>
	<!-- change line 120 if you want to change the size of the image -->
		<img class='medium' src="images/GenreRatings.jpg"> 	
</div>
<!-- caption for image 1 -->
<div class='center_aligner'>
	
</div>

<div class='text'>
	<h1>What if we looked at a microcosm of movies, would that be any different?</h1>
	  
</div>
	<p></p>
<p></p>
	<p></p>
<p></p>
<div class='center_aligner'>
<p>Enter the Marvel Cinematic Universe (MCU) - but first, a few facts:</p>
<p></p></div>
	<p></p>
<p></p>
<p></p>
<!-- counter -->
<div class='header sticky step' id='dynamic_sticky1'>
</div>


<div class='leftside'>

	<div class='text progressive'>
	<h1>There are lots of MCU movies</h1>
	Between 2008 and 2019 there were 23 movies made for MCU. 
	</div>

	<div class='text progressive'>
	<h1>They made tons of money</h1>
	In the US alone they have grossed $8.5 BILLION dollars!
	</div>

	<div class='text progressive end'>
	<h1>Everyone likes them</h1>
	The average rating for an MCU movie was 7.46.  All other movies during the same time period were rated an average of 5.67.
	</div>

</div>


<h1>
<p> Action and superhero movies might traditionally be seen as appealing to male audiences, how would those be rated by males and females?</p>

<p></p></h1>
<!-- image 2 -->
<div class='center_aligner'>
	<!-- change line 120 if you want to change the size of the image -->
		<div class='caption'>Female ratings are consistently higher than male, with few exceptions.  Interesting that the two movies with a black lead and a female lead have such discrepancies.</div><img class='medium' src="images/mcuratingaverages.jpg"> 	
</div>
<!-- caption for image 2 -->
<div class='center_aligner'>
	
</div>
<p></p>
<p></p>
<p>Try out this interactive visualization that lets you check out how the various MCU movies have fared with males and females of different ages:

<!-- tableau public -->
<div class='center_aligner'>
	<!-- insert tableau public embed link below this line -->
	<div class='tableauPlaceholder' id='viz1628855486356' style='position: relative'><noscript><a href='#'><img alt='MCU Comparisons ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;RF&#47;RF7DF8RDZ&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='path' value='shared&#47;RF7DF8RDZ' /> <param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;RF&#47;RF7DF8RDZ&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1628855486356');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1366px';vizElement.style.height='795px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1366px';vizElement.style.height='795px';} else { vizElement.style.width='100%';vizElement.style.height='1427px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
</div>

<div class='text'>
	<p>	When it comes to movies, most of us care about the entertainment it can bring.  If you’re a movie maker, you care about the amount of money a movie will bring in.  Movies are big business and they depend on audiences in order to make profits.  
The ratings of female voters is more closely tied to profits than the overall average or the male voter ratings.  If I was a movie executive, I think I’d want to appeal to my female demographic!</p>

</div>





</body>
<script type="text/javascript">

// instantiate the scrollama
const scroller = scrollama();
const scroller2 = scrollama();

scroller
  .setup({
    step: ".text",
    offset: 0.9,
  })
  .onStepEnter(response => {
    // { element, index, direction }
    el=response.element;
    el.style.opacity=1;
    el.style.marginTop='5%';    
  })
  .onStepExit(response => {
    // { element, index, direction }  
    el=response.element;
  })
  ;
 // setup resize event
window.addEventListener("resize", scroller.resize);

scroller2
  .setup({
    step: ".progressive",
    offset: 0.6,
  })
  .onStepEnter(response => {
    // { element, index, direction }
    el=response.element;
    el.style.opacity=1;
    if(response.index==0 || 1 || 2){
    	stick('dynamic_sticky1')
    	response.direction=='down'
    	if(response.index==0){
    		count(1,23,1,'Movies','between 2008 and 2019','dynamic_sticky1')
    	} else if (response.index==1){
    		count(1,8,1,'US Gross','Billion','dynamic_sticky1')
    	} else if (response.index==2){
    		count(1,33,1,'Rating','percent higher','dynamic_sticky1')
    	}
    }
  })
  .onStepExit(response => {
    // { element, index, direction }  
    el=response.element;
    console.log(response.index)
    if(response.index==2){
    	unstick('dynamic_sticky1')
    }
    el.style.opacity=0;
  })
  ;
 // setup resize event
window.addEventListener("resize", scroller2.resize);

function count(number1, number2, step, title, label, location_id, prefix='', suffix=''){
	target = document.querySelector('#'+location_id)
	console.log(target)
	let text=number1;

	setInterval(function(){
		if(text!=number2){
			num = text+step
			if(num % 1 == 0){
				text = num
			} else {
				text = parseFloat(num.toFixed(2))
			}
			target.innerHTML="<div class='aligner'><h1>"+title+"</h1><div id='counter'>"+prefix+text+suffix+"</div><h2>"+label+"</h2></div>"
		}
	}, 30);
}

function stick(location_id){
	target = document.querySelector('#'+location_id)
	target.style.position="sticky"
}

function unstick(location_id){
	target = document.querySelector('#'+location_id)
	target.style.position="relative"
}

</script>

</html>
